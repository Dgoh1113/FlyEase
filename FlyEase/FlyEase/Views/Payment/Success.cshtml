<!-- [file name]: Views/Payment/Success.cshtml -->
@{
    ViewData["Title"] = "Booking Confirmed!";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <!-- Progress Bar -->
            <partial name="_BookingProgress" model="4" />

            <div class="card shadow-lg border-0 text-center">
                <div class="card-body py-5">
                    <!-- Animated Success Icon -->
                    <div class="success-animation mb-4">
                        <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
                            <circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none" />
                            <path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8" />
                        </svg>
                    </div>

                    <h1 class="text-success mb-3">Booking Confirmed! 🎉</h1>
                    <p class="lead mb-4">Thank you for choosing FlyEase Travel. Your adventure awaits!</p>

                    <!-- Booking Details -->
                    <div class="card bg-light mx-auto mb-4" style="max-width: 400px;">
                        <div class="card-body">
                            <h6 class="card-title text-muted mb-3">Booking Summary</h6>
                            <div class="d-flex justify-content-between mb-2">
                                <span>Booking Reference:</span>
                                <strong>#@(DateTime.Now.Ticks.ToString().Substring(8))</strong>
                            </div>
                            <div class="d-flex justify-content-between mb-2">
                                <span>Amount Paid:</span>
                                <strong class="text-success">RM 1,200.00</strong>
                            </div>
                            <div class="d-flex justify-content-between mb-2">
                                <span>Status:</span>
                                <span class="badge bg-success">Confirmed</span>
                            </div>
                            <div class="d-flex justify-content-between">
                                <span>Date:</span>
                                <span>@DateTime.Now.ToString("dd MMM yyyy HH:mm")</span>
                            </div>
                        </div>
                    </div>

                    <!-- Next Steps -->
                    <div class="alert alert-info mx-auto mb-4" style="max-width: 500px;">
                        <h6><i class="fas fa-info-circle me-2"></i>What's Next?</h6>
                        <p class="mb-0 small">
                            You will receive a confirmation email shortly with your booking details.
                            Our travel consultant will contact you within 24 hours to finalize your arrangements.
                        </p>
                    </div>

                    <!-- Action Buttons -->
                    <div class="d-grid gap-2 d-md-flex justify-content-center">
                        <a href="/" class="btn btn-primary btn-lg me-md-2">
                            <i class="fas fa-home me-2"></i>Back to Home
                        </a>
                        <a href="/Home/Packages" class="btn btn-outline-primary btn-lg">
                            <i class="fas fa-search me-2"></i>Browse More Packages
                        </a>
                    </div>

                    <!-- Support Info -->
                    <div class="mt-4 pt-3 border-top">
                        <p class="text-muted small">
                            Need help? Contact our support team at
                            <a href="mailto:support@flyease.com" class="text-decoration-none">support@flyease.com</a>
                            or call +60 3-1234 5678
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .success-animation {
        margin: 0 auto;
    }

    .checkmark {
        width: 100px;
        height: 100px;
        border-radius: 50%;
        display: block;
        stroke-width: 2;
        stroke: #4bb71b;
        stroke-miterlimit: 10;
        box-shadow: inset 0px 0px 0px #4bb71b;
        animation: fill .4s ease-in-out .4s forwards, scale .3s ease-in-out .9s both;
    }

    .checkmark__circle {
        stroke-dasharray: 166;
        stroke-dashoffset: 166;
        stroke-width: 2;
        stroke-miterlimit: 10;
        stroke: #4bb71b;
        fill: #fff;
        animation: stroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards;
    }

    .checkmark__check {
        transform-origin: 50% 50%;
        stroke-dasharray: 48;
        stroke-dashoffset: 48;
        animation: stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.8s forwards;
    }

    @@keyframes stroke {
        100% {
            stroke-dashoffset: 0;
        }
    }

    @@keyframes scale {
        0%, 100% {
            transform: none;
        }

        50% {
            transform: scale3d(1.1, 1.1, 1);
        }
    }

    @@keyframes fill {
        100% {
            box-shadow: inset 0px 0px 0px 30px #4bb71b;
        }
    }
</style>
