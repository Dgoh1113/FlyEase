@model FlyEase.Controllers.ContactViewModel
@{
    ViewData["Title"] = "Contact Us - FlyEase Travel";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="~/css/packagemanagement.css" />

<div class="contact-page">
    <div class="contact-hero bg-primary text-white py-5 mb-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto text-center">
                    <h1 class="display-5 fw-bold mb-3">Get in Touch</h1>
                    <p class="lead mb-0">Have questions about our travel packages? We're here to help!</p>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        @if (TempData["SuccessMessage"] != null)
        {
            <div class="alert alert-success alert-dismissible fade show" role="alert">
                <i class="fas fa-check-circle me-2"></i> @TempData["SuccessMessage"]
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        }

        @if (TempData["ErrorMessage"] != null)
        {
            <div class="alert alert-danger alert-dismissible fade show" role="alert">
                <i class="fas fa-exclamation-circle me-2"></i> @TempData["ErrorMessage"]
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        }

        <div class="row">
            <div class="col-lg-7 mb-5">
                <div class="card shadow-sm border-0">
                    <div class="card-header bg-white border-0 pt-4">
                        <h2 class="card-title h4 mb-0">
                            <i class="fas fa-envelope me-2 text-primary"></i>Send us a Message
                        </h2>
                    </div>
                    <div class="card-body p-4">
                        <form method="post" asp-action="SubmitContact" id="contactForm">
                            @Html.AntiForgeryToken()

                            <div id="form-status" class="alert alert-info" style="display: none;">
                                <i class="fas fa-spinner fa-spin me-2"></i>Sending your message...
                            </div>

                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label asp-for="Name" class="form-label">Full Name *</label>
                                    <input asp-for="Name" class="form-control" placeholder="Your full name">
                                    <span asp-validation-for="Name" class="text-danger small"></span>
                                </div>

                                <div class="col-md-6 mb-3">
                                    <label asp-for="Email" class="form-label">Email Address *</label>
                                    <input asp-for="Email" type="email" class="form-control" placeholder="your@email.com">
                                    <span asp-validation-for="Email" class="text-danger small"></span>
                                </div>
                            </div>

                            <div class="mb-3">
                                <label asp-for="Phone" class="form-label">Phone Number (Optional)</label>
                                <input asp-for="Phone" class="form-control" placeholder="+60 123456789">
                                <span asp-validation-for="Phone" class="text-danger small"></span>
                            </div>

                            <div class="mb-3">
                                <label asp-for="Subject" class="form-label">Subject *</label>
                                <input asp-for="Subject" class="form-control" placeholder="What is this regarding?">
                                <span asp-validation-for="Subject" class="text-danger small"></span>
                            </div>

                            <div class="mb-4">
                                <label asp-for="Message" class="form-label">Message *</label>
                                <textarea asp-for="Message" class="form-control" rows="6"
                                          placeholder="Tell us about your travel needs, questions, or feedback..."></textarea>
                                <span asp-validation-for="Message" class="text-danger small"></span>
                                <div class="form-text">Maximum 5000 characters</div>
                            </div>

                            <div class="d-grid justify-content-center pt-3 pb-3 bevel-container">
                                <input type="checkbox" name="bevelButton" id="bevelButton">
                                <label class="bevel" for="bevelButton">Send Message</label>
                            </div>

                        </form>
                    </div>
                </div>
            </div>

            <div class="col-lg-5">
                <div class="card shadow-sm border-0 mb-4">
                    <div class="card-header bg-white border-0 pt-4">
                        <h3 class="card-title h4 mb-0">
                            <i class="fas fa-info-circle me-2 text-primary"></i>Contact Information
                        </h3>
                    </div>
                    <div class="card-body p-4">
                        <div class="contact-info">
                            <div class="d-flex mb-4">
                                <div class="contact-icon bg-light-primary rounded-circle p-3 me-3">
                                    <i class="fas fa-map-marker-alt text-primary fa-lg"></i>
                                </div>
                                <div>
                                    <h5 class="h6 mb-1">Our Office</h5>
                                    <p class="mb-0 text-muted">
                                        Level 23, Menara<br>
                                        Kuala Lumpur City Centre<br>
                                        50088 Kuala Lumpur, Malaysia
                                    </p>
                                </div>
                            </div>

                            <div class="d-flex mb-4">
                                <div class="contact-icon bg-light-primary rounded-circle p-3 me-3">
                                    <i class="fas fa-phone text-primary fa-lg"></i>
                                </div>
                                <div>
                                    <h5 class="h6 mb-1">Call Us</h5>
                                    <p class="mb-0">
                                        <a href="tel:+60312345678" class="text-decoration-none">+60 3-1234 5678</a><br>
                                        <small class="text-muted">Mon-Fri, 9am-6pm</small>
                                    </p>
                                </div>
                            </div>

                            <div class="d-flex mb-4">
                                <div class="contact-icon bg-light-primary rounded-circle p-3 me-3">
                                    <i class="fas fa-envelope text-primary fa-lg"></i>
                                </div>
                                <div>
                                    <h5 class="h6 mb-1">Email Us</h5>
                                    <p class="mb-0">
                                        <a href="mailto:FlyEaseSC@gmail.com" class="text-decoration-none">FlyEaseSC@gmail.com</a><br>
                                    </p>
                                </div>
                            </div>

                            <div class="d-flex">
                                <div class="contact-icon bg-light-primary rounded-circle p-3 me-3">
                                    <i class="fas fa-hashtag text-primary fa-lg"></i>
                                </div>
                                <div>
                                    <h5 class="h6 mb-2">Follow Us</h5>
                                    <div class="social-links">
                                        <a href="https://facebook.com" class="text-decoration-none me-3">
                                            <i class="fab fa-facebook fa-2x text-primary"></i>
                                        </a>
                                        <a href="https://instagram.com" class="text-decoration-none me-3">
                                            <i class="fab fa-instagram fa-2x text-danger"></i>
                                        </a>
                                        <a href="https://twitter.com" class="text-decoration-none me-3">
                                            <i class="fab fa-twitter fa-2x text-info"></i>
                                        </a>
                                        <a href="https://whatsapp.com" class="text-decoration-none">
                                            <i class="fab fa-whatsapp fa-2x text-success"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card shadow-sm border-0">
                    <div class="card-header bg-white border-0 pt-4">
                        <h3 class="card-title h4 mb-0">
                            <i class="fas fa-question-circle me-2 text-primary"></i>Frequently Asked Questions
                        </h3>
                    </div>
                    <div class="card-body p-4">
                        <div class="accordion" id="faqAccordion">
                            <div class="accordion-item border-0 mb-2">
                                <h2 class="accordion-header" id="faq1">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1">
                                        How do I change or cancel my booking?
                                    </button>
                                </h2>
                                <div id="collapse1" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        You can modify or cancel your booking by logging into your account and visiting "My Bookings". For assistance, contact our support team.
                                    </div>
                                </div>
                            </div>

                            <div class="accordion-item border-0 mb-2">
                                <h2 class="accordion-header" id="faq2">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2">
                                        What payment methods do you accept?
                                    </button>
                                </h2>
                                <div id="collapse2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        We accept credit/debit cards, bank transfers, Touch 'n Go, and cash payments at our office.
                                    </div>
                                </div>
                            </div>

                            <div class="accordion-item border-0">
                                <h2 class="accordion-header" id="faq3">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3">
                                        What is your response time for inquiries?
                                    </button>
                                </h2>
                                <div id="collapse3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        We aim to respond to all inquiries within 24 hours during business days. Urgent matters will be prioritized.
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="mt-4 text-center">
                            <a href="#" class="text-decoration-none">
                                <i class="fas fa-book me-1"></i> View all FAQs
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row mt-5">
            <div class="col-12">
                <div class="card shadow-sm border-0">
                    <div class="card-header bg-white border-0 pt-4">
                        <h3 class="card-title h4 mb-0">
                            <i class="fas fa-map-marked-alt me-2 text-primary"></i>Find Our Office
                        </h3>
                    </div>
                    <div class="card-body p-0">
                        <div class="map-container" style="height: 400px; background: #f8f9fa;">
                            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3983.775382838917!2d101.7122350758314!3d3.153637753314463!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31cc37d12d669c1f%3A0x9e3afdd17c8a9056!2sPETRONAS%20Twin%20Towers!5e0!3m2!1sen!2smy!4v1700000000000!5m2!1sen!2smy"
                                    width="100%"
                                    height="400"
                                    style="border:0;"
                                    allowfullscreen=""
                                    loading="lazy"
                                    referrerpolicy="no-referrer-when-downgrade">
                            </iframe>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    /* BEVEL BUTTON CSS - BLUE VERSION */

    .bevel-container {
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
    }

    /* Hide the actual checkbox input */
    #bevelButton {
        display: none;
    }

    /* The label becomes the button */
    .bevel {
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        padding: 0 32px;
        height: 54px;
        /* --- BLUE GRADIENT BACKGROUND --- */
        background: #0d6efd; /* Fallback Blue */
        background: linear-gradient(to bottom, #0d6efd 50%, #0a58ca 50%); /* Blue to Darker Blue */

        border-radius: 0px;
        /* --- BLUE SHADOWS --- */
        box-shadow: 0px 15px 25px -10px rgba(0, 0, 0, 0.5), inset 0px 0px 0px 0px rgba(13, 110, 253, 0), inset 0px -27px 0px 0px #0a58ca;
        /* --- CHANGED FONT TO POPPINS --- */
        font-family: 'Poppins', sans-serif;
        font-weight: 600; /* Make text bold enough */
        font-size: 20px;
        text-align: center;
        /* --- BLUE TEXT SHADOWS --- */
        text-shadow: 0px 3px 5px #0a58ca, 0px 5px 10px #0a58ca, 0px 5px 10px #0a58ca, 0px 5px 10px #0a58ca, 0px 5px 10px #0a58ca;
        color: #fff;
        letter-spacing: 0.5px;
        overflow: hidden;
        cursor: pointer;
        user-select: none;
        transform: scale(1.01);
        transition: all 0.2s ease-in-out;
        width: auto;
        min-width: 220px;
    }

        /* The angled sides (pseudo-elements) */
        .bevel:before, .bevel:after {
            content: " ";
            width: 27px;
            max-width: 50%;
            height: 100%;
            position: absolute;
            top: 0;
            transition: all 0.135s cubic-bezier(0.74, 0.16, 0.24, 0.92);
            transition-delay: 0.15s;
        }

        .bevel:before {
            left: 0;
            /* --- BLUE LEFT ANGLE --- */
            background: linear-gradient(45deg, transparent 66.6%, #0d6efd 66.6%), linear-gradient(-45deg, #0a58ca 33.3%, transparent 33.3%), linear-gradient(to right, #0d6efd, #0a58ca);
        }

        .bevel:after {
            right: 0;
            /* --- BLUE RIGHT ANGLE --- */
            background: linear-gradient(-45deg, transparent 66.6%, #0d6efd 66.6%), linear-gradient(45deg, #0a58ca 33.3%, transparent 33.3%), linear-gradient(to left, #0d6efd, #0a58ca);
        }

        .bevel:hover {
            transform: scale(1.07);
            box-shadow: 0px 25px 40px -5px rgba(0, 0, 0, 0.3), inset 0px 0px 0px 0px rgba(13, 110, 253, 0), inset 0px -27px 0px 0px #0a58ca;
        }

    /* Checked / Active State (Pressed Down) */
    #bevelButton:checked ~ .bevel {
        padding: 0 18.5px;
        background: transparent;
        /* --- PRESSED SHADOWS --- */
        box-shadow: 0px 5px 15px -5px rgba(0, 0, 0, 0.3), inset 0px 0px 0px 4px #0d6efd, inset 0px 0px 0px 0px #0a58ca;
        border-radius: 10px;
        font-size: 20px;
        font-weight: 700;
        text-shadow: none;
        color: #0d6efd;
        transform: scale(0.9) rotate(-2deg);
        transition: all 0.45s cubic-bezier(0.6, -0.9, 0.39, 1.65);
        transition-delay: 0.135s;
    }

        #bevelButton:checked ~ .bevel:before {
            transform: translateX(-100%);
            transition-delay: 0s;
        }

        #bevelButton:checked ~ .bevel:after {
            transform: translateX(100%);
            transition-delay: 0s;
        }

    /* --- Existing Styles --- */
    .contact-hero {
        background: linear-gradient(135deg, #0d6efd 0%, #198754 100%);
    }

    .contact-icon {
        width: 60px;
        height: 60px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .bg-light-primary {
        background-color: rgba(13, 110, 253, 0.1);
    }

    .social-links a {
        transition: transform 0.3s;
    }

        .social-links a:hover {
            transform: translateY(-3px);
        }

    .accordion-button:not(.collapsed) {
        background-color: rgba(13, 110, 253, 0.1);
        color: #0d6efd;
    }

    .map-container {
        border-radius: 0 0 0.375rem 0.375rem;
        overflow: hidden;
    }

    .card {
        border-radius: 15px;
    }

    .card-header {
        border-radius: 15px 15px 0 0 !important;
    }
</style>

@section Scripts {
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.3/jquery.validate.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validation-unobtrusive/3.2.12/jquery.validate.unobtrusive.min.js"></script>

    <script>
        // HANDLE BEVEL BUTTON CLICK
        document.getElementById('bevelButton').addEventListener('change', function() {
            if(this.checked) {
                const form = document.getElementById('contactForm');
                const formStatus = document.getElementById('form-status');

                // Show 'Sending' status
                if (formStatus) {
                    formStatus.style.display = 'block';
                    formStatus.scrollIntoView({ behavior: 'smooth' });
                }

                // Delay slightly to allow the "button press" animation to be seen
                setTimeout(() => {
                    form.submit();
                }, 600);
            }
        });
    </script>
}