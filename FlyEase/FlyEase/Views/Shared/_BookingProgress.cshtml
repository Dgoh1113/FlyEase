<!-- [file name]: Views/Shared/_BookingProgress.cshtml -->
@{
    var currentAction = ViewContext.RouteData.Values["Action"]?.ToString();
    var steps = new[]
    {
        new { Step = 1, Action = "CustomerInfo", Name = "Customer Info", Icon = "fas fa-user" },
        new { Step = 2, Action = "PaymentDetails", Name = "Payment", Icon = "fas fa-credit-card" },
        new { Step = 3, Action = "Confirmation", Name = "Confirmation", Icon = "fas fa-check-circle" },
        new { Step = 4, Action = "Success", Name = "Complete", Icon = "fas fa-flag-checkered" }
    };

    var currentStep = steps.FirstOrDefault(s => s.Action == currentAction)?.Step ?? 1;
}

<div class="booking-progress mb-5">
    <div class="progress" style="height: 8px;">
        <div class="progress-bar bg-success" role="progressbar"
             style="width: @((currentStep - 1) * 33)%;"
             aria-valuenow="@((currentStep - 1) * 33)"
             aria-valuemin="0"
             aria-valuemax="100">
        </div>
    </div>

    <div class="d-flex justify-content-between mt-3">
        @foreach (var step in steps)
        {
            <div class="text-center">
                <div class="step-icon @(step.Step <= currentStep ? "active" : "")">
                    <i class="@step.Icon"></i>
                </div>
                <div class="step-label mt-2">
                    <small class="@(step.Step <= currentStep ? "text-success fw-bold" : "text-muted")">
                        @step.Name
                    </small>
                </div>
            </div>
        }
    </div>
</div>

<style>
    .step-icon {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto;
        background: #f8f9fa;
        border: 3px solid #dee2e6;
        transition: all 0.3s ease;
    }

        .step-icon.active {
            background: #198754;
            border-color: #198754;
            color: white;
        }

        .step-icon i {
            font-size: 1.2rem;
        }

    .booking-progress {
        max-width: 600px;
        margin: 0 auto;
    }
</style>
