<!-- [file name]: Views/Shared/_BookingProgress.cshtml -->
@model int
@{
    var currentStep = Model;
    var steps = new[]
    {
        new { Number = 1, Name = "Customer Info", Icon = "fas fa-user" },
        new { Number = 2, Name = "Payment", Icon = "fas fa-credit-card" },
        new { Number = 3, Name = "Confirmation", Icon = "fas fa-check-circle" },
        new { Number = 4, Name = "Complete", Icon = "fas fa-flag-checkered" }
    };
}

<div class="booking-progress mb-5">
    <div class="progress" style="height: 8px;">
        <div class="progress-bar bg-success" role="progressbar"
             style="width: @((currentStep - 1) * 33)%; transition: width 0.5s ease;"
             aria-valuenow="@((currentStep - 1) * 33)"
             aria-valuemin="0"
             aria-valuemax="100">
        </div>
    </div>

    <div class="d-flex justify-content-between mt-4">
        @foreach (var step in steps)
        {
            <div class="text-center step-item">
                <div class="step-icon @(step.Number <= currentStep ? "active" : "")
                                  @(step.Number < currentStep ? "completed" : "")">
                    @if (step.Number < currentStep)
                    {
                        <i class="fas fa-check"></i>
                    }
                    else
                    {
                        <i class="@step.Icon"></i>
                    }
                </div>
                <div class="step-label mt-2">
                    <small class="@(step.Number <= currentStep ? "text-success fw-bold" : "text-muted")">
                        @step.Name
                    </small>
                </div>
            </div>
        }
    </div>
</div>

<style>
    .step-icon {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto;
        background: #f8f9fa;
        border: 3px solid #dee2e6;
        transition: all 0.3s ease;
        font-size: 1.1rem;
    }

        .step-icon.active {
            background: #198754;
            border-color: #198754;
            color: white;
            transform: scale(1.1);
        }

        .step-icon.completed {
            background: #198754;
            border-color: #198754;
            color: white;
        }

    .step-item {
        flex: 1;
        position: relative;
    }

    .booking-progress {
        max-width: 800px;
        margin: 0 auto;
        position: relative;
    }

    .progress {
        background-color: #e9ecef;
        border-radius: 10px;
        overflow: hidden;
    }

    .progress-bar {
        border-radius: 10px;
    }
</style>